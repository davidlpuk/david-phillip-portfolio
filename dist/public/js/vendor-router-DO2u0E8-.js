import{r as I,g as M}from"./vendor-react-Cgg2GOmP.js";function B(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in e)){const o=Object.getOwnPropertyDescriptor(s,r);o&&Object.defineProperty(e,r,o.get?o:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var c=I();const T=M(c),z=B({__proto__:null,default:T},[c]);function G(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,s,r,o,f=[],h="",l=e.split("/");for(l[0]||l.shift();r=l.shift();)n=r[0],n==="*"?(f.push(n),h+=r[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(s=r.indexOf("?",1),o=r.indexOf(".",1),f.push(r.substring(1,~s?s:~o?o:r.length)),h+=~s&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(h+=(~s?"?":"")+"\\"+r.substring(o))):h+="/"+r;return{keys:f,pattern:new RegExp("^"+h+(t?"(?=$|/)":"/?$"),"i")}}var b={exports:{}},x={};var R;function J(){if(R)return x;R=1;var e=I();function t(a,d){return a===d&&(a!==0||1/a===1/d)||a!==a&&d!==d}var n=typeof Object.is=="function"?Object.is:t,s=e.useState,r=e.useEffect,o=e.useLayoutEffect,f=e.useDebugValue;function h(a,d){var p=d(),E=s({inst:{value:p,getSnapshot:d}}),m=E[0].inst,v=E[1];return o(function(){m.value=p,m.getSnapshot=d,l(m)&&v({inst:m})},[a,p,d]),r(function(){return l(m)&&v({inst:m}),a(function(){l(m)&&v({inst:m})})},[a]),f(p),p}function l(a){var d=a.getSnapshot;a=a.value;try{var p=d();return!n(a,p)}catch{return!0}}function i(a,d){return d()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?i:h;return x.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,x}var k;function Q(){return k||(k=1,b.exports=J()),b.exports}var W=Q();const X=z.useInsertionEffect,Y=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Z=Y?c.useLayoutEffect:c.useEffect,ee=X||Z,U=e=>{const t=c.useRef([e,(...n)=>t[0](...n)]).current;return ee(()=>{t[0]=e}),t[1]},te="popstate",w="pushState",P="replaceState",ne="hashchange",C=[te,w,P,ne],re=e=>{for(const t of C)addEventListener(t,e);return()=>{for(const t of C)removeEventListener(t,e)}},$=(e,t)=>W.useSyncExternalStore(re,e,t),O=()=>location.search,se=({ssrSearch:e}={})=>$(O,e!=null?()=>e:O),L=()=>location.pathname,oe=({ssrPath:e}={})=>$(L,e!=null?()=>e:L),ae=(e,{replace:t=!1,state:n=null}={})=>history[t?P:w](n,"",e),ce=(e={})=>[oe(e),ae],j=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[j]>"u"){for(const e of[w,P]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),s=new Event(e);return s.arguments=arguments,dispatchEvent(s),n}}Object.defineProperty(window,j,{value:!0})}const ue=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",q=(e="")=>e==="/"?"":e,ie=(e,t)=>e[0]==="~"?e.slice(1):q(t)+e,fe=(e="",t)=>ue(_(q(e)),_(t)),_=e=>{try{return decodeURI(e)}catch{return e}},H={hook:ce,searchHook:se,parser:G,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e,aroundNav:(e,t,n)=>e(t,n)},K=c.createContext(H),S=()=>c.useContext(K),N={},A=c.createContext(N),le=()=>c.useContext(A),g=e=>{const[t,n]=e.hook(e);return[fe(e.base,t),U((s,r)=>e.aroundNav(n,ie(s,e.base),r))]},pe=()=>g(S()),V=(e,t,n,s)=>{const{pattern:r,keys:o}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",s),f=r.exec(n)||[],[h,...l]=f;return h!==void 0?[!0,(()=>{const i=o!==!1?Object.fromEntries(o.map((a,d)=>[a,l[d]])):f.groups;let u={...l};return i&&Object.assign(u,i),u})(),...s?[h]:[]]:[!1,null]},he=({children:e,...t})=>{const n=S(),s=t.hook?H:n;let r=s;const[o,f=t.ssrSearch??""]=t.ssrPath?.split("?")??[];o&&(t.ssrSearch=f,t.ssrPath=o),t.hrefs=t.hrefs??t.hook?.hrefs,t.searchHook=t.searchHook??t.hook?.searchHook;let h=c.useRef({}),l=h.current,i=l;for(let u in s){const a=u==="base"?s[u]+(t[u]??""):t[u]??s[u];l===i&&a!==i[u]&&(h.current=i={...i}),i[u]=a,(a!==s[u]||a!==r[u])&&(r=i)}return c.createElement(K.Provider,{value:r,children:e})},D=({children:e,component:t},n)=>t?c.createElement(t,{params:n}):typeof e=="function"?e(n):e,de=e=>{let t=c.useRef(N);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some(([s,r])=>r!==n[s])?e:n},ye=({path:e,nest:t,match:n,...s})=>{const r=S(),[o]=g(r),[f,h,l]=n??V(r.parser,e,o,t),i=de({...le(),...h});if(!f)return null;const u=l?c.createElement(he,{base:l},D(s,i)):D(s,i);return c.createElement(A.Provider,{value:i,children:u})},ve=c.forwardRef((e,t)=>{const n=S(),[s,r]=g(n),{to:o="",href:f=o,onClick:h,asChild:l,children:i,className:u,replace:a,state:d,transition:p,...E}=e,m=U(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(h?.(y),y.defaultPrevented||(y.preventDefault(),r(f,e)))}),v=n.hrefs(f[0]==="~"?f.slice(1):n.base+f,n);return l&&c.isValidElement(i)?c.cloneElement(i,{onClick:m,href:v}):c.createElement("a",{...E,onClick:m,href:v,className:u?.call?u(s===f):u,children:i,ref:t})}),F=e=>Array.isArray(e)?e.flatMap(t=>F(t&&t.type===c.Fragment?t.props.children:t)):[e],Ee=({children:e,location:t})=>{const n=S(),[s]=g(n);for(const r of F(e)){let o=0;if(c.isValidElement(r)&&(o=V(n.parser,r.props.path,t||s,r.props.nest))[0])return c.cloneElement(r,{match:o})}return null};export{ve as L,z as R,Ee as S,T as a,ye as b,le as c,c as r,pe as u};
